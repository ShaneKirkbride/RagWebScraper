@page "/cross-links"
@inject AppStateService AppState
@implements IDisposable
@using RagWebScraper.Models
@using System.Linq
@using RagWebScraper.Shared
@using RagWebScraper.Services


<h3 class="mb-3 text-primary">Cross-Document Links</h3>

@if (!AppState.PdfCrossDocLinks.Any() && !AppState.UrlCrossDocLinks.Any())
{
    <p>No cross-document links available. Please analyze some documents first.</p>
}
else
{
    if (AppState.UrlCrossDocLinks.Any())
    {
        <h4 class="mt-3">Web Page Links</h4>
        <CrossDocLinks Links="AppState.UrlCrossDocLinks" />
    }

    if (AppState.PdfCrossDocLinks.Any())
    {
        <h4 class="mt-3">PDF Links</h4>
        <CrossDocLinks Links="AppState.PdfCrossDocLinks" />
    }
}

@code {
    protected override void OnInitialized()
    {
        AppState.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        AppState.OnChange -= StateHasChanged;
    }
}
